(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,n){e.exports=n(92)},49:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(37),o=n.n(i),l=n(8),c=n(9),s=n(12),u=n(10),h=n(13),d=(n(49),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"renderBorder",value:function(){var e=this.props,t=e.cellSizeInPx,n=t*e.width,a=t*e.height;return[r.a.createElement("line",{x1:"0",y1:"0",x2:n,y2:"0"}),r.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:a}),r.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:a}),r.a.createElement("line",{x1:n,y1:a,x2:n,y2:"0"}),r.a.createElement("line",{x1:n,y1:a,x2:"0",y2:a})]}},{key:"renderGridLines",value:function(){for(var e=this.props,t=e.cellSizeInPx,n=e.width,a=e.height,i=t*n,o=t*a,l=[],c=0;c<n;c++)l.push(r.a.createElement("line",{x1:"0",y1:c*t,x2:i,y2:c*t}));for(var s=0;s<a;s++)l.push(r.a.createElement("line",{y1:"0",x1:s*t,y2:o,x2:s*t}));return l}},{key:"renderNodes",value:function(){var e=this.props,t=e.cellSizeInPx,n=e.width,a=e.nodes;if(0!==a.length){var i=[];return a.forEach(function(e){var a=e.Location,o=a.X,l=a.Y,c=n+2.5,s=(o+1)*t-c,u=(l+1)*t-c;i.push(r.a.createElement("circle",{cx:s-2.5,cy:u-2.5,r:c,fill:"#aeaeae"})),i.push(r.a.createElement("text",{x:s-2.5,y:u-2.5,"text-anchor":"middle",fill:"black","font-size":"18px","font-family":"Arial",dy:".3em"},e.Value))}),i}}},{key:"renderBots",value:function(){var e=this.props,t=e.cellSizeInPx,n=e.width,a=e.bots;if(0!==a.length){var i=[];return a.forEach(function(e){var a=e.Location,o=a.X,l=a.Y,c=n+2.5,s=(o+1)*t-c,u=(l+1)*t-c;i.push(r.a.createElement("circle",{cx:s-2.5,cy:u-2.5,r:c,fill:"red"})),i.push(r.a.createElement("text",{x:s-2.5,y:u-2.5,"text-anchor":"middle",fill:"white","font-size":"18px","font-family":"Arial",dy:".3em"},e.Score))}),i}}},{key:"findNodeById",value:function(e){var t;return this.props.nodes.forEach(function(n){n.Id===e&&(t=n)}),t}},{key:"renderBotClaims",value:function(){var e=this,t=this.props,n=t.cellSizeInPx,a=t.width,i=t.bots,o=[];return i.forEach(function(t){var i=t.Location,l=i.X,c=i.Y,s=a+2.5,u=(l+1)*n-s,h=(c+1)*n-s;0!==t.Claims.length&&t.Claims.forEach(function(t){var a=e.findNodeById(t),i=(a.Location.X+1)*n-s,l=(a.Location.Y+1)*n-s;o.push(r.a.createElement("line",{className:"bot-claim-line",x1:u,y1:h,x2:i,y2:l}))})}),o}},{key:"render",value:function(){var e=this.props,t=e.cellSizeInPx,n=e.width,a=e.height;return r.a.createElement("svg",{width:n*t,height:a*t},this.renderBorder(),this.renderGridLines(),this.renderNodes(),this.renderBotClaims(),this.renderBots())}}]),t}(a.Component)),m=new(n(38).Dispatcher),f=n(39),p={GOT_DATA:"GOT_DATA"},y=[],v=[],x=new(function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleActions",value:function(e){switch(e.type){case p.GOT_DATA:y=e.value.bots,v=e.value.nodes}this.emit("storeUpdated")}},{key:"getValuesFromStore",value:function(){return{bots:y,nodes:v}}}]),t}(f.EventEmitter));m.register(x.handleActions.bind(x));var E=x,b=n(23),O=n.n(b);function w(e){(function(){var e="https://headlight-tournament-4.herokuapp.com";return Promise.all([O.a.get("".concat(e,"/bots")),O.a.get("".concat(e,"/nodes"))]).then(function(e){return{bots:JSON.parse(e[0].text).Bots,nodes:JSON.parse(e[1].text).Nodes}})})().then(function(e){m.dispatch({type:p.GOT_DATA,value:e})})}var S=n(94),g=n(95),k=n(96),j=n(97),B=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).setStateFromStore=function(){n.setState(E.getValuesFromStore())},n.state=E.getValuesFromStore(),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){E.on("storeUpdated",this.setStateFromStore),setInterval(w,1e3)}},{key:"componentWillUnmount",value:function(){E.removeListener("storeUpdated",this.setStateFromStore)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement(g.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,null,"Real Time Bot Locations"),r.a.createElement("div",null,"Red : BOT - shown with score ",r.a.createElement("br",null),"Gray : Node - shown with score ",r.a.createElement("br",null),"Green : Lines connecting a BOT to claimed nodes"))),r.a.createElement(g.a,null,r.a.createElement(k.a,null,r.a.createElement(d,{cellSizeInPx:50,width:20,height:20,bots:this.state.bots,nodes:this.state.nodes})))))}}]),t}(a.Component);o.a.render(r.a.createElement(B,null),document.getElementById("root"))}},[[44,2,1]]]);
//# sourceMappingURL=main.7884a1e2.chunk.js.map